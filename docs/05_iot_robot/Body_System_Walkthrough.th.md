# GhostMicro Walkthrough: ระบบ 4 ร่างกาย และความปลอดภัยทางประสาท (Neural Security)

เอกสารนี้ระบุโครงสร้างทางเทคนิคสำหรับการขยายระบบเป็น 4 ร่างกาย และชั้นความปลอดภัยที่เพิ่งนำมาใช้

## 1. Modular Body Identities (Reflex Layer)
ระบบในขณะนี้รองรับแชสซีฮาร์ดแวร์ที่แตกต่างกันสี่แบบ โดยระบุผ่านตัวแบ่งแรงดันไฟฟ้าแบบอนาล็อก (Analog Voltage Divider) บน ESP32 Core

| ประเภทของร่างกาย | แรงดันไฟฟ้าเป้าหมาย | คุณลักษณะ                                         |
| :-------------- | :--------------- | :---------------------------------------------- |
| **ROVER**       | 1.0V             | การสำรวจภาคพื้นดิน 4WD, ความเสถียร, ความแม่นยำ         |
| **DRONE**       | 2.0V             | การบินด้วยมอเตอร์สี่ตัว, ความคล่องตัว, การเคลื่อนที่ในแนวดิ่ง |
| **SUBMARINE**   | 2.5V             | การวิจัยใต้ทะเลลึก, ความทนทานต่อแรงดัน, อะคูสติกส์       |
| **HUMANOID**    | 3.3V             | การวิจัยแบบสองเท้า, ปฏิสัมพันธ์ทางสังคม, ข้อต่อที่ซับซ้อน     |

### AI Persona Adaptation (การปรับเปลี่ยนบุคลิกของ AI)
Gemini Brain (ดวงวิญญาณ) จะอัปเดตคำสั่งระบบแบบไดนามิกเมื่อตรวจพบร่างกายใหม่ สิ่งนี้จะเปลี่ยนน้ำเสียง ความเชี่ยวชาญ และสไตล์การโต้ตอบของหุ่นยนต์ให้ตรงกับรูปแบบทางกายภาพของมัน

## 2. GHOST_SIMULATOR (Emulation Layer)
การเข้าถึง: `/simulator`

เครื่องจำลองช่วยให้สามารถตรวจสอบฮาร์ดแวร์ด้วยตนเองได้โดยไม่ต้องมีโหนดจริง:
- **Manual Switching**: สลับร่างกายด้วยตนเองเพื่อตรวจสอบพฤติกรรมของ AI
- **Node Management**: เปิด-ปิดสถานะการเชื่อมต่อเพื่อทดสอบ failsafes ของแดชบอร์ด
- **Data Payload Emulation**: แสดงตัวอย่าง JSON แบบเรียลไทม์ของโครงสร้างข้อมูลที่ส่ง

## 3. Neural Handshake Security
เพื่อป้องกันการควบคุมโดยไม่ได้รับอนุญาต จึงมีการบังคับใช้การตรวจสอบ (Handshake) ด้วยความลับที่ใช้ร่วมกันในการเชื่อมต่อ Socket.IO ทั้งหมด

- **ความลับร่วม (Shared Secret)**: `GHOST_BRAIN_99` (กำหนดค่าได้ผ่าน `.env`)
- **Protocol**: การเชื่อมต่อที่ไม่มีโทเค็นที่ถูกต้องในการตรวจสอบสิทธิ์ขาเข้าจะถูกปฏิเสธโดย Python Brain
- **Monitoring**: ความพยายามที่ไม่ได้รับอนุญาตจะถูกทำเครื่องหมายใน Neural Log ว่า `SECURITY BREACH`

---
*อัปเดตล่าสุด: 2026-01-04*
